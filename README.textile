a minimalist /sbin/init for Docker, only reap childrens and propagate SIGTERM

h1. Usage

Just put at the end of the Dockerfile a _"CMD"_ instruction (your Docker PID 1 process):
<pre>
ENTRYPOINT ["/sbin/flex-docker-init"]
CMD []
</pre>

h1. Example

Your Dockerfile should looks like:
<pre>
FROM whatever

[...]

COPY /opt/flex_docker_init/flex-docker-init /sbin/flex-docker-init
# OR
ADD http://localhost/path/to/flex_docker_init/flex-docker-init /sbin/flex-docker-init
[...]

ENTRYPOINT ["/sbin/flex-docker-init"]
CMD []
</pre>

And of course you might want to run a rc file (a shell script executed by _/bin/sh_). Just create a _"/etc/rc.local.flex-docker"_ file which should contains, for example:
<pre>
#!/bin/sh

/usr/sbin/sshd
/usr/sbin/cron
[...]
daemon -- /whatever/binary/to/daemonize
[...]

params="$(getopt -s sh -o +a --longoptions auto -- "$@")" || exit 1
eval set -- "$params"

while true; do
    case "$1" in
        -a|--auto)
            auto=y
            shift 1
            ;;
        --)
            shift
            break
            ;;
    esac
done

if [ X"$auto" = X"y" ]; then
  echo AUTO
  [ -e "/etc/rc.local.auto" ] && /bin/sh /etc/rc.local.auto
fi

exit 0
</pre>
